## Фреймворк

Проект Radare2 - это набор небольших утилит командной строки, которые можно использовать вместе или независимо.

Эта глава даст вам быстрое представление о них, но так же каждому инструменту посвящен отдельный раздел в конце этой книги. 

### radare2

Главный инструмент всего фреймворка. Он использует ядро шестнадцатеричного редактора и отладчика. radare2 позволяет открывать ряд источников ввода/вывода, как если бы они были простыми файлами, включая диски, сетевые соединения, драйверы ядра, отлаживаемые процессы и т.д.

Он реализует расширенный интерфейс командной строки для перемещения по файлу, анализа данных, дизассемблирования, бинарного патчинга, сравнения данных, поиска, замены и визуализации. Он поддерживает скрипты с использованием различных языков, включая Python, Ruby, JavaScript, Lua и Perl.

### rabin2

Программа для извлечения информации из исполняемых двоичных файлов, таких как ELF, PE, Java CLASS, Mach-O, а также любого формата, поддерживаемого плагинами r2. rabin2 используется ядром для получения таких данных, как экспортированные символы, импорты, информация о файлах, перекрестные ссылки (внешние ссылки), библиотечные зависимости и секции.

### rasm2

Ассемблер и дизассемблер из командной строки для нескольких архитектур (включая Intel x86 и x86-64, MIPS, ARM, PowerPC, Java и множество других).

#### Примеры
```
$ rasm2 -a java 'nop'
00
```
```
$ rasm2 -a x86 -d '90'
nop
```
```
$ rasm2 -a x86 -b 32 'mov eax, 33'
b821000000
```
```
$ echo 'push eax; nop; nop' | rasm2 -f -
509090
```

### rahash2

Реализация инструмента блочного хеширования. От небольших текстовых строк до больших дисков rahash2 поддерживает несколько алгоритмов, включая MD4, MD5, CRC16, CRC32, SHA1, SHA256 и другие.
rahash2 можно использовать для проверки целостности или отслеживания изменений больших файлов, дампов памяти или дисков.

### Примеры
```
$ rahash2 file
file: 0x00000000-0x00000007 sha256: 887cfbd0d44aaff69f7bdbedebd282ec96191cce9d7fa7336298a18efc3c7a5a
```
```
$ rahash2 -a file md5
file: 0x00000000-0x00000007 md5: d1833805515fc34b46c2b9de553f599d
```

### radiff2

Бинарная утилита сравнения, реализующая несколько алгоритмов. Она поддерживает побайтное и дельта- сравнение для двоичных файлов, а также поиск изменений в блоках кода, полученных в результате анализа кода radare.

### rafind2

Программа для поиска байтовых шаблонов в файлах.

### ragg2

Интерфейс для r_egg. ragg2 компилирует программы, написанные на простом языке высокого уровня, в крошечные двоичные файлы для x86, x86-64 и ARM.

#### Примеры

```
$ cat hi.r
/* hello world in r_egg */
write@syscall(4); //x64 write@syscall(1);
exit@syscall(1); //x64 exit@syscall(60);

main@global(128) {
 .var0 = "hi!\n";
 write(1,.var0, 4);
 exit(0);
}
$ ragg2 -O -F hi.r
$ ./hi
hi!

$ cat hi.c
main@global(0,6) {
 write(1, "Hello0", 6);
 exit(0);
}
$ ragg2 hi.c
$ ./hi.c.bin
Hello
```

### rarun2

Лаунчер для запуска программ в разных средах с разными аргументами,
разрешениями, каталогами и переопределенными дескрипторами файлов по умолчанию. rarun2 полезен для:

* Решение crackme
* Fuzzing
* Тестовых наборов

#### Пример скрипта rarun2
```
$ cat foo.rr2
#!/usr/bin/rarun2
program=./pp400
arg0=10
stdin=foo.txt
chdir=/tmp
#chroot=.
./foo.rr2
```

#### Подключение программы к сокету

```
$ nc -l 9999
$ rarun2 program=/bin/ls connect=localhost:9999
```

#### Отладка программы, перенаправляя stdio в другой терминал

1. откройте новый терминал и введите `tty`, чтобы получить имя терминала:

```
$ tty ; clear ; sleep 999999
/dev/ttyS010
```

2. Создайте новый файл, содержащий следующий профиль rarun2 с именем foo.rr2:
```
#!/usr/bin/rarun2
program=/bin/ls
stdio=/dev/ttys010
```

3. Запустите следующую команду radare2:
```
r2 -r foo.rr2 -d /bin/ls
```

### rax2

Минималистичный калькулятор математических выражений для командной строки, который полезен для выполнения базовых преобразований между значениями с плавающей запятой, шестнадцатеричными представлениями, шестнадцатеричными строками в ASCII, восьмеричных в десятичные числа и т.д. Он также поддерживает настройки порядка байтов и может использоваться как интерактивная оболочка, если не указаны аргументы.

#### Примеры

```
$ rax2 1337
0x539

$ rax2 0x400000
4194304

$ rax2 -b 01111001
y

$ rax2 -S radare2
72616461726532

$ rax2 -s 617765736f6d65
awesome
```
